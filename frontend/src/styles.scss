// SpectraSight Global Styles & Angular Material M3 Theme
@use '@angular/material' as mat;
@import '@angular/cdk/overlay-prebuilt.css';

// Define SpectraSight M3 theme
$spectrasight-theme: mat.define-theme((
  color: (
    theme-type: light,
    primary: mat.$azure-palette,
  ),
  density: (
    scale: -2,
  ),
));

$spectrasight-dark-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: mat.$azure-palette,
  ),
  density: (
    scale: -2,
  ),
));

// Apply theme
html {
  @include mat.all-component-themes($spectrasight-theme);
}

// Dark theme support (activated via class on body -- Story 1.3)
.dark-theme {
  @include mat.all-component-colors($spectrasight-dark-theme);
}

// ============================================================
// SpectraSight Design Tokens (CSS Custom Properties)
// ============================================================

:root {
  // -- Brand Colors --
  --ss-accent: #4A6FA5;
  --ss-accent-light: #6B8FC7;

  // -- Surface Colors (Light) --
  --ss-surface-primary: #FFFFFF;
  --ss-surface-secondary: #F5F5F5;
  --ss-text-primary: #212121;
  --ss-text-secondary: #616161;

  // -- Typography --
  --ss-font-system: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  --ss-font-mono: 'Cascadia Code', 'Fira Code', 'JetBrains Mono', 'Consolas', 'Courier New', monospace;

  // -- Ticket Type Colors (Light / Dark variants) --
  --ss-type-bug: #C74E4E;
  --ss-type-bug-dark: #E06C6C;
  --ss-type-task: #4A7FB5;
  --ss-type-task-dark: #6B9FD5;
  --ss-type-story: #4E8C57;
  --ss-type-story-dark: #6BAF75;
  --ss-type-epic: #7B5EA7;
  --ss-type-epic-dark: #9B7EC7;

  // -- Status Colors (Light / Dark variants) --
  --ss-status-open: #858585;
  --ss-status-open-dark: #A0A0A0;
  --ss-status-in-progress: #2979C1;
  --ss-status-in-progress-dark: #4A9FE5;
  --ss-status-blocked: #C78A2E;
  --ss-status-blocked-dark: #E5A84A;
  --ss-status-complete: #388E3C;
  --ss-status-complete-dark: #5CB860;

  // -- Spacing Scale --
  --ss-xs: 4px;
  --ss-sm: 8px;
  --ss-md: 12px;
  --ss-lg: 16px;
  --ss-xl: 24px;
  --ss-xxl: 32px;
}

// Dark theme overrides
.dark-theme {
  --ss-surface-primary: #1E1E1E;
  --ss-surface-secondary: #252526;
  --ss-text-primary: #E0E0E0;
  --ss-text-secondary: #A0A0A0;
  --ss-accent: #6B8FC7;
  --ss-accent-light: #4A6FA5;
}

// ============================================================
// Global Resets & Base Styles
// ============================================================

html, body {
  height: 100%;
}

body {
  margin: 0;
  font-family: var(--ss-font-system);
  background-color: var(--ss-surface-secondary);
  color: var(--ss-text-primary);
}

code, pre, .mono {
  font-family: var(--ss-font-mono);
}

// ============================================================
// App Shell Layout Styles (Story 1.3)
// ============================================================

:root {
  --ss-surface-variant: #EBEBEB;
  --ss-border: #D4D4D4;
  --ss-text-muted: #6B6B6B;
  --ss-row-height: 36px;
  --ss-toolbar-height: 48px;
}

.dark-theme {
  --ss-surface-variant: #2D2D2D;
  --ss-border: #3E3E3E;
  --ss-text-muted: #858585;
}

// Error snackbar styling
.ss-error-snackbar {
  --mdc-snackbar-container-color: var(--ss-type-bug);
  --mdc-snackbar-supporting-text-color: #fff;
}
